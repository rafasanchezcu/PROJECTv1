var app=angular.module("app",["ngAnimate","ngTouch","ui.grid","ui.grid.selection","ui.grid.exporter"]),rutaSeleccionada=window.location.search.split("=")[1];console.log(rutaSeleccionada),app.controller("MainCtrl",["$scope","$http","i18nService",function(e,i,t){function a(){i.get("../data/Tabla"+rutaSeleccionada+".json").success(function(i){e.gridOptions.data=i})}e.cellClicked=function(e){alert("Ruta: "+e.entity.Recorrido+"\nHora Salida Estimada: "+e.entity.HoraSalidaEstimada+"\nHora Salida Real: "+e.entity.HoraSalidaReal)},e.cellClicked1=function(e){alert("Ruta: "+e.entity.Recorrido+"\nHora LLegada Estimada E1: "+e.entity.HorarioEstimado.ST1+"\nHora LLegada Real E1: "+e.entity.HorarioReal.ST1)},e.cellClicked2=function(e){alert("Ruta: "+e.entity.Recorrido+"\nHora LLegada Estimada E2: "+e.entity.HorarioEstimado.ST2+"\nHora LLegada Real E2: "+e.entity.HorarioReal.ST2)},e.cellClicked3=function(e){alert("Ruta: "+e.entity.Recorrido+"\nHora LLegada Estimada E3: "+e.entity.HorarioEstimado.ST3+"\nHora LLegada Real E3: "+e.entity.HorarioReal.ST3)},e.cellClicked4=function(e){alert("Ruta: "+e.entity.Recorrido+"\nHora LLegada Estimada E4: "+e.entity.HorarioEstimado.ST4+"\nHora LLegada Real E4: "+e.entity.HorarioReal.ST4)},e.cellClicked5=function(e){alert("Ruta: "+e.entity.Recorrido+"\nHora LLegada Estimada E5: "+e.entity.HorarioEstimado.ST5+"\nHora LLegada Real E5: "+e.entity.HorarioReal.ST5)},e.gridOptions={enableSorting:!0,minimumColumnSize:90,showGridFooter:!0,columnDefs:[{field:"Clave",width:"6%"},{field:"Bus",width:"8%"},{field:"Conductor",width:"9%"},{field:"Recorrido",name:"Ruta",width:"6%"},{field:"EstaTerminado",name:"Estado",width:"7%",cellClass:function(e,i,t){return 1==e.getCellValue(i,t)?"red1":"green"}},{field:"HoraSalidaEstimada",name:"H.S.E",visible:!1,width:"7%"},{field:"HoraSalidaReal",name:"H.S.R",width:"7%",cellClass:function(e,i,t){return e.getCellValue(i,t)>i.entity.HoraSalidaEstimada?"red":void 0},cellTemplate:'<div ng-click="grid.appScope.cellClicked(row,col)"  class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'},{field:"HorarioEstimado.ST1",name:"H.E-est1",visible:!1,width:"8%"},{field:"HorarioReal.ST1",name:"H.R.E1",width:"8%",cellClass:function(e,i,t){return e.getCellValue(i,t)>i.entity.HorarioEstimado.ST1?"red":void 0},cellTemplate:'<div ng-click="grid.appScope.cellClicked1(row,col)"  class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'},{field:"HorarioEstimado.ST2",name:"H.E-est2",visible:!1,width:"8%"},{field:"HorarioReal.ST2",name:"H.R.E2",width:"8%",cellClass:function(e,i,t){return e.getCellValue(i,t)>i.entity.HorarioEstimado.ST2?"red":void 0},cellTemplate:'<div ng-click="grid.appScope.cellClicked2(row,col)"  class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'},{field:"HorarioEstimado.ST3",name:"H.E-est3",visible:!1,width:"8%"},{field:"HorarioReal.ST3",name:"H.R.E3",width:"8%",cellClass:function(e,i,t){return e.getCellValue(i,t)>i.entity.HorarioEstimado.ST3?"red":void 0},cellTemplate:'<div ng-click="grid.appScope.cellClicked3(row,col)"  class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'},{field:"HorarioEstimado.ST4",name:"H.E-est4",visible:!1,width:"8%"},{field:"HorarioReal.ST4",name:"H.R.E4",width:"8%",cellClass:function(e,i,t){return e.getCellValue(i,t)>i.entity.HorarioEstimado.ST1?"red":void 0},cellTemplate:'<div ng-click="grid.appScope.cellClicked4(row,col)"  class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'},{field:"HorarioEstimado.ST5",name:"H.E-est5",visible:!1,width:"8%"},{field:"HorarioReal.ST5",name:"H.R.E5",width:"8%",cellClass:function(e,i,t){return e.getCellValue(i,t)>i.entity.HorarioEstimado.ST1?"red":void 0},cellTemplate:'<div ng-click="grid.appScope.cellClicked5(row,col)"  class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'}],maxWidth:9,minWidth:6,rowHeight:35,exporterMenuCsv:!1,enableGridMenu:!0,enableSelectAll:!0,exporterPdfDefaultStyle:{fontSize:8},exporterPdfTableStyle:{margin:[10,10,10,10]},exporterPdfTableHeaderStyle:{fontSize:9,bold:!0,italics:!0,color:"red"},exporterPdfHeader:{text:"Ruta:",style:"headerStyle"},exporterPdfFooter:function(e,i){return{text:e.toString()+" of "+i.toString(),style:"footerStyle"}},exporterPdfCustomFormatter:function(e){return e.styles.headerStyle={fontSize:22,bold:!0},e.styles.footerStyle={fontSize:10,bold:!0},e},exporterPdfOrientation:"landscape",exporterPdfPageSize:"LETTER",exporterPdfMaxGridWidth:450,onRegisterApi:function(i){e.gridApi=i}},t.setCurrentLang("es"),window.setInterval(a,5e3)}]);