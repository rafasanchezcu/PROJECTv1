var app=angular.module("app",["ngAnimate","ngTouch","ui.grid","ui.grid.selection","ui.grid.exporter"]),rutaSeleccionada=window.location.search.split("=")[1];console.log(rutaSeleccionada),app.controller("MainCtrl",["$scope","$http","i18nService",function(e,t,i){function o(){t.get("../data/Tabla"+rutaSeleccionada+".json").success(function(t){e.gridOptions.data=t})}e.cellClicked=function(e){alert("Hora LLegada Estimada: "+e.entity.HorarioEstimado.ST2+"\nHora LLegada Real: "+e.entity.HorarioReal.ST2)},e.gridOptions={enableSorting:!0,minimumColumnSize:90,showGridFooter:!0,columnDefs:[{field:"Clave",width:"6%"},{field:"Bus",width:"8%"},{field:"Conductor",width:"9%"},{field:"Recorrido",name:"Ruta",width:"6%"},{field:"EstaTerminado",name:"Estado",width:"7%",cellClass:function(e,t,i){return 1==e.getCellValue(t,i)?"red1":"green"}},{field:"HoraSalidaEstimada",name:"H.S.E",width:"7%"},{field:"HoraSalidaReal",name:"H.S.R",width:"7%"},{field:"HorarioEstimado.ST1",name:"H.E-est1",visible:!1,width:"8%"},{field:"HorarioReal.ST1",name:"HR-est1",width:"8%",cellClass:function(e,t,i){return e.getCellValue(t,i)>t.entity.HorarioEstimado.ST1?"red":void 0}},{field:"HorarioEstimado.ST2",name:"H.E-est2",visible:!1,width:"8%"},{field:"HorarioReal.ST2",name:"HR-est2",width:"8%",cellClass:function(e,t,i){return e.getCellValue(t,i)>t.entity.HorarioEstimado.ST2?"red":void 0},cellTemplate:'<div ng-click="grid.appScope.cellClicked(row,col)"  class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'},{field:"HorarioEstimado.ST3",name:"H.E-est3",visible:!1,width:"8%"},{field:"HorarioReal.ST3",name:"HR-est3",width:"8%",cellClass:function(e,t,i){return e.getCellValue(t,i)>t.entity.HorarioEstimado.ST3?"red":void 0}},{field:"HorarioEstimado.ST4",name:"H.E-est4",visible:!1,width:"8%"},{field:"HorarioReal.ST4",name:"HR-est4",width:"8%",cellClass:function(e,t,i){return e.getCellValue(t,i)>t.entity.HorarioEstimado.ST1?"red":void 0}},{field:"HorarioEstimado.ST5",name:"H.E-est5",visible:!1,width:"8%"},{field:"HorarioReal.ST5",name:"HR-est5",width:"8%",cellClass:function(e,t,i){return e.getCellValue(t,i)>t.entity.HorarioEstimado.ST1?"red":void 0}}],maxWidth:9,minWidth:6,rowHeight:35,exporterMenuCsv:!1,enableGridMenu:!0,enableSelectAll:!0,exporterPdfDefaultStyle:{fontSize:8},exporterPdfTableStyle:{margin:[10,10,10,10]},exporterPdfTableHeaderStyle:{fontSize:9,bold:!0,italics:!0,color:"red"},exporterPdfHeader:{text:"Ruta:",style:"headerStyle"},exporterPdfFooter:function(e,t){return{text:e.toString()+" of "+t.toString(),style:"footerStyle"}},exporterPdfCustomFormatter:function(e){return e.styles.headerStyle={fontSize:22,bold:!0},e.styles.footerStyle={fontSize:10,bold:!0},e},exporterPdfOrientation:"landscape",exporterPdfPageSize:"LETTER",exporterPdfMaxGridWidth:450,onRegisterApi:function(t){e.gridApi=t}},i.setCurrentLang("es"),window.setInterval(o,5e3)}]);