function Itinerario(e,i,n){function l(e){for(var a=[],l=0;e>l;l++)a.push("<div class=estacion>"+n[l].nombre+"</div>");console.log(a.join(""));var t=$("body");t.append("<div class=cajaP><div class=timeline><div class=line><ol style=background-color:transparent class=linei>"+a.join("")+"</ol></div><ul class=mover><li><a href=#0 class=prev class=inactive>Anterior</a></li><li><a href=#0 class=next>Siguiente</a></li></ul></div><div class=caja></div></div>"),$(".prev").addClass("inactive");for(var s=$(".estacion"),l=0;e>l;l++)setPosTimelineE(l,i,s.eq(l))}function t(e){for(var i=$("#recorrido").html(),n=[],a=0;e-1>a;a++)n.push("<div class=timeline0><div class=line>"+i+"</div> <div class=datos>hora"+(a+1)+" de salida</div></div>");o.append(n.join(""))}function s(e,i,n){return totalWidth=n*e+e,i.children(".line").children(".linei").css("width",totalWidth+"px"),totalWidth}var r=n.length;l(r,n);var o=$(".caja"),d=[],c=[];o.append("<div class=timeline0><div id=recorrido class=line><ol class=linei></ol> </div> <div class=datos>hora0 de salida</div></div>");for(var v=$(".timeline0"),u=(v.children(".datos"),v.children(".line")),f=u.children(".linei"),m=0;r>m;m++)d.push("<li class=estacion1></li>");f.append(d.join(""));for(var m=0;r>m;m++)c.push("<div class=lineT style=left:"+i*m+"px></div>");f.append(c.join(""));for(var p=f.children(".estacion1"),m=0;r>m;m++)setPosTimelineE(m,i,p.eq(m));f.append("<li class=bus>id tyo</li>"),s(i,v,r);var h=$("#recorrido").html();t(e);var g=$(".timeline"),b=s(i,g,r);g.addClass("loaded"),g.find(".mover").on("click",".next",function(e){e.preventDefault(),updateSlide(g,b,"next"),v=$(".timeline0");for(var i=0;i<v.length;i++)updateSlide(v.eq(i),b,"next")}),g.find(".mover").on("click",".prev",function(e){e.preventDefault(),updateSlide(g,b,"prev");for(var i=0;i<v.length;i++)updateSlide(v.eq(i),b,"prev")}),$("#btn1").click(function(){it.agregarRecorrido("hola todos"),v=o.children(".timeline0")}),$("#btn2").click(function(){it.eliminarRecorrido(0),v=o.children(".timeline0")}),$("#btn3").click(function(){$(".bus").eq(0).css("background-image","url(../img/bus-markerv.svg)")}),a=0,$("#btn4").click(function(){$(".lineT").eq(a).css("background-color","#FF5252"),$(".lineT").eq(a).css("width","120px"),a++}),$("#btn5").click(function(){$(".lineT").eq(a).css("background-color","#00E676"),$(".lineT").eq(a).css("width","120px"),a++}),$("#btn6").click(function(){$(".lineT").eq(a).css("background-color","#3F51B5"),$(".lineT").eq(a).css("width","120px"),a++}),this.agregarRecorrido=function(e){o.append("<div class=timeline0><div class=line>"+h+"</div> <div class=datos>hora de salida:</br>"+e+"</div><div class=cerrar>x</div></div>")},this.eliminarRecorrido=function(e){var i=o.children(".timeline0");i.length-1<e?console.log("el sistemas no cuenta con buses"):i[e].remove()}}function setPosTimelineE(e,i,n){disNormal=Math.round(e*i+i),n.css("left",disNormal+"px"),n.css("transform","translateX(-50%)")}function setPosTimelineB(e,i){dis=Math.round(i),e.css("left",dis+"px"),e.css("transform","translateX(-50%)"),e.css("transition","left 1s linear")}function updateSlide(e,i,n){var a=e.children(".line"),l=a.children(".linei"),t=getTranslateValue(l),s=Number(a.css("width").replace("px",""));"next"==n?translateTimeline(e,t-s,s-i):translateTimeline(e,t+s)}function getTranslateValue(e){var i=window.getComputedStyle(e.get(0),null),n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform");if(n.indexOf("(")>=0){var n=n.split("(")[1];n=n.split(")")[0],n=n.split(",");var a=n[4]}else var a=0;return Number(a)}function translateTimeline(e,i,n){var a=e.children(".line").children(".linei").get(0),l=e.find(".mover");console.log(a),i=i>0?0:i,i="undefined"!=typeof n&&n>i?n:i,setTransformValue(a,"translateX",i+"px"),0==i?l.find(".prev").addClass("inactive"):l.find(".prev").removeClass("inactive"),i==n?l.find(".next").addClass("inactive"):l.find(".next").removeClass("inactive")}function setTransformValue(e,i,n){e.style["-webkit-transform"]=i+"("+n+")",e.style["-moz-transform"]=i+"("+n+")",e.style["-ms-transform"]=i+"("+n+")",e.style["-o-transform"]=i+"("+n+")",e.style.transform=i+"("+n+")"}