function agregarRutas(e){this.rutas=e,individualizarCategorias();var a=[];agregarCategoriaModal(opcionesRutas);for(var o=0;o<opcionesRutas.length;o++)a.push("<option value="+o+">"+opcionesRutas[o]+"</option>");$("select").append(a.join(" ")),$("select").material_select(),eleccion=$("#filtrar").change(function(){rutasSeleccionadas=buscarCoincidencias(opcionesRutas[eleccion.val()]),generarOpciones(rutasSeleccionadas)})}function individualizarCategorias(){for(var e=["Todas las rutas"],a=0;a<rutas.length;a++)e=e.concat(rutas[a].categoria);this.opcionesRutas=e.unique()}function agregarCategoriaModal(){opcionesSelectm=[],opcionesSelectu=[];for(var e=0;e<opcionesRutas.length;e++)opcionesSelectm.push("<div class=cajar>"+opcionesRutas[e]+"</div>"),opcionesSelectu.push("<div class=cajar>"+opcionesRutas[e]+"</div>");cajam1s.append(opcionesSelectm.join(" ")),cajamm=cajam1s.find(".cajar"),cajam2s.append(opcionesSelectu.join(" ")),cajamu=cajam2s.find(".cajar")}function generarOpcionesM(e){cuadroRutas=[];for(var a=0;a<e.length;a++)cuadroRutas.push("<p><input type=checkbox id="+e[a].nombre+" class="+e[a].nombre+"/><label for="+e[a].nombre+">"+e[a].nombre+"</label></p>");multipleM.children().remove(),multipleM.append(cuadroRutas.join(" "))}function generarOpcionesU(e){cuadroRutas=[],cuadroRutas.push("<p><input name=group1 type=radio id=u"+e[0].nombre+" class=with-gap checked/><label for=u"+e[0].nombre+">"+e[0].nombre+"</label></p>");for(var a=1;a<e.length;a++)cuadroRutas.push("<p><input name=group1 type=radio id=u"+e[a].nombre+" class=with-gap /><label for=u"+e[a].nombre+">"+e[a].nombre+"</label></p>");unica.children().remove(),unica.append(cuadroRutas.join(" "))}function generarOpciones(e){cuadroRutas=[];for(var a=0;a<e.length;a++)cuadroRutas.push("<div class=caja3> <div class=logo style=background:#"+e[a].color+";>"+e[a].nombre+"</div>  <div class=texto>"+e[a].descripcion+"</div><div class=switch><label><input type=checkbox><span class=lever></span></label></div></div>");$(".bloque4").children().remove(),$(".bloque4").append(cuadroRutas.join(" "))}function buscarCoincidencias(e){if(elegidos=[],"Todas las rutas"==e)elegidos=rutas;else for(var a=0;a<rutas.length;a++)-1!==rutas[a].categoria.indexOf(e)&&elegidos.push(rutas[a]);return elegidos}function buscarCoincidenciasN(e){if(palabra=opcionesRutas[e],elegidos=[],"Todas las rutas"==palabra)elegidos=rutas;else for(var a=0;a<rutas.length;a++)-1!==rutas[a].categoria.indexOf(palabra)&&elegidos.push(rutas[a]);return elegidos}function markerPaqueteFactory(){function e(e,a){for(var o=[],t=0;a>t;t++)o.push(new google.maps.Marker({map:e,icon:marker_estacion,zIndex:2}));return o}function a(e,a){for(var o=[],t=0;a>t;t++)o.push(new google.maps.Marker({map:e,icon:marker_bus0}));return o}function o(e,a){for(var o=[],t=0;a>t;t++)o.push(new google.maps.Marker({map:e,icon:marker_bus1}));return o}function t(e,a){for(var o=[],t=0;a>t;t++)o.push(new google.maps.Marker({map:e,icon:marker_bus2}));return o}this.crearPaqueteMarker=function(s,n,r){switch(s){case"estacion":return console.log("Se creo un marker para una estacion"),e(n,r);case"R1":return console.log("Se creo un recorrido de la ruta R1"),console.log(a(n,r)),a(n,r);case"R2":return console.log("Se creo un recorrido de la ruta R2"),o(n,r);case"R3":return console.log("Se creo un recorrido de la ruta R3"),t(n,r);default:console.log("Nombre de la Ruta no esta definido en la funcion markerPaqueteFactory()")}}}function h(){}function initMap(){function e(e,a){var o=new google.maps.InfoWindow({content:e});google.maps.event.addListener(a,"click",function(){o.open(c,a)})}function a(){$.getJSON("http://localhost:8000/data/ruta1.json",function(e){if($.coordenadas=e,d<e[0].coordenadas.length){for(var a=0;a<e.length;a++)o(e[a].coordenadas[d],u[a]),p[a]=e[a].coordenadas[d].id;d++}else d=0})}function o(e,a){a.setPosition(new google.maps.LatLng(e.latitud,e.longitud))}function t(e,a){var o=document.getElementById("map-zoom-in"),t=document.getElementById("map-zoom-out");e.appendChild(o),e.appendChild(t),google.maps.event.addDomListener(o,"click",function(){a.setZoom(a.getZoom()+1)}),google.maps.event.addDomListener(t,"click",function(){a.setZoom(a.getZoom()-1)})}var s=7.09,n=-73.11,r=13,i=[{stylers:[{lightness:3},{saturation:-60}]},{featureType:"road.local",stylers:[{lightness:-20},{hue:"#2d313f"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"},{lightness:-20},{gamma:2.15},{hue:"#2d313f"}]},{featureType:"water",stylers:[{gamma:.51},{saturation:17},{lightness:-7},{hue:"#0066ff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{lightness:-21},{hue:"#2d313f"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{visibility:"simplified"},{saturation:-82},{lightness:-20},{hue:"#2d313f"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{saturation:-90},{lightness:1},{hue:"#2d313f"}]},{featureType:"transit.station.bus",stylers:[{visibility:"off"}]},{featureType:"transit.station.rail",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],l={center:new google.maps.LatLng(s,n),zoom:r,panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:i},c=new google.maps.Map(document.getElementById("map"),l);this.graficarEstaciones=function(a){for(var o=factory.crearPaqueteMarker("estacion",c,a.length),t=0;t<a.length;t++)o[t].setPosition(new google.maps.LatLng(a[t].latitud,a[t].longitud)),e(a[t].Nombre,o[t])};var u=(new google.maps.InfoWindow({content:null}),factory.crearPaqueteMarker("R2",c,5));timer=setInterval(a,1e3);{var d=0,p=[],m=$("#lista").change(function(){switch(clearInterval(timer),m.val()){case"1":timer=setInterval(a,100);break;case"2":timer=setInterval(a,1e3);break;case"3":timer=setInterval(a,5e3);break;default:timer=setInterval(a,1e3)}}),g=document.createElement("div");new t(g,c)}c.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(g),google.maps.event.addDomListener(window,"resize",function(){var e=c.getCenter();google.maps.event.trigger(c,"resize"),c.setCenter(e)})}var marker_bus0="img/bus-markern.svg",marker_bus1="img/bus-markerv.svg",marker_bus2="img/bus-markerm.svg",marker_estacion="img/bus-stop.svg",flecha=$(".flecha"),flecha0=flecha.children("a"),izquierda=$(".izquierda"),estado=!0;opcionesRutas=void 0,rutas=void 0,cajam1s=$(".cajam1s"),cajamm=void 0,cajam2s=$(".cajam2s"),cajamu=void 0,multipleM=$(".multipleM"),unica=$(".unica"),Array.prototype.unique=function(e){return function(){return this.filter(e)}}(function(e,a,o){return o.indexOf(e,a+1)<0}),$(".modal-trigger").leanModal(open),$("#modal1").openModal(),$("select").material_select(),flecha.click(function(){estado?(estado=!1,izquierda.css("left","-330px"),flecha0.css("transform","rotateZ(180deg)")):(estado=!0,izquierda.css("left","0px"),flecha0.css("transform","rotateZ(0deg)"))}),cajam1s.on("click","div",function(){t=$(this),console.log(t.index()),t.addClass("active").siblings().removeClass("active"),generarOpcionesM(buscarCoincidenciasN(t.index()))}),cajam2s.on("click","div",function(){t=$(this),console.log(t.index()),t.addClass("active").siblings().removeClass("active"),generarOpcionesU(buscarCoincidenciasN(t.index()))});var linksp=$(".tabs_links"),links=linksp.find("a"),items=$(".items");links.eq(0).add(items.eq(0)).addClass("active"),linksp.on("click","a",function(){var e=$(this),a=e.index();e.add(items.eq(a)).addClass("active").siblings().removeClass("active")}),z=new h;