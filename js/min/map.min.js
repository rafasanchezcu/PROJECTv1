function agregarRutas(e){this.rutas=e,individualizarCategorias();var a=[];agregarCategoriaModal(opcionesRutas);for(var o=0;o<opcionesRutas.length;o++)a.push("<option value="+o+">"+opcionesRutas[o]+"</option>");$("#filtrar").append(a.join(" ")),generarOpciones(e),$("select").material_select(),eleccion=$("#filtrar").change(function(){generarOpciones(buscarCoincidencias(opcionesRutas[eleccion.val()]))})}function individualizarCategorias(){for(var e=["Todas las rutas"],a=0;a<rutas.length;a++)e=e.concat(rutas[a].categoria);this.opcionesRutas=e.unique()}function agregarCategoriaModal(){opcionesSelectm=[],opcionesSelectu=[];for(var e=0;e<opcionesRutas.length;e++)opcionesSelectm.push("ver rutas<div class=cajar> "+opcionesRutas[e]+"</div>"),opcionesSelectu.push("ver rutas<div class=cajar> "+opcionesRutas[e]+"</div>");cajam1s.append(opcionesSelectm.join(" ")),cajamm=cajam1s.find(".cajar"),cajam2s.append(opcionesSelectu.join(" ")),cajamu=cajam2s.find(".cajar")}function generarOpcionesM(e){cuadroRutas=[];for(var a=0;a<e.length;a++)cuadroRutas.push("<p><input type=checkbox name=rutas value="+e[a].nombre+" id="+e[a].nombre+" /><label for="+e[a].nombre+">"+e[a].nombre+"</label></p>");multipleM.children().remove(),multipleM.append(cuadroRutas.join(" "))}function generarOpcionesU(e){cuadroRutas=[],cuadroRutas.push("<p><input name=group1 value="+e[0].nombre+" type=radio id=u"+e[0].nombre+" class=with-gap checked/><label for=u"+e[0].nombre+">"+e[0].nombre+"</label></p>");for(var a=1;a<e.length;a++)cuadroRutas.push("<p><input name=group1 value="+e[a].nombre+" type=radio id=u"+e[a].nombre+" class=with-gap /><label for=u"+e[a].nombre+">"+e[a].nombre+"</label></p>");unica.children().remove(),unica.append(cuadroRutas.join(" "))}function generarOpciones(e){cuadroRutas=[];for(var a=0;a<e.length;a++)cuadroRutas.push("<div class=caja3> <div class=logo style=background:#"+e[a].color+";>"+e[a].nombre+"</div>  <div class=texto>"+e[a].descripcion+"</div><div class=switch><label><input type=checkbox value="+e[a].nombre+"><span class=lever></span></label></div></div>");$(".bloque4").children().remove(),$(".bloque4").append(cuadroRutas.join(" "))}function buscarCoincidencias(e){if(elegidos=[],"Todas las rutas"==e)elegidos=rutas;else for(var a=0;a<rutas.length;a++)-1!==rutas[a].categoria.indexOf(e)&&elegidos.push(rutas[a]);return elegidos}function markerPaqueteFactory(){function e(e,a){for(var o=[],n=0;a>n;n++)o.push(new google.maps.Marker({map:e,icon:marker_estacion,zIndex:2}));return o}function a(e,a){for(var o=[],n=0;a>n;n++)o.push(new google.maps.Marker({map:e,icon:marker_bus0}));return o}function o(e,a){for(var o=[],n=0;a>n;n++)o.push(new google.maps.Marker({map:e,icon:marker_bus1}));return o}function n(e,a){for(var o=[],n=0;a>n;n++)o.push(new google.maps.Marker({map:e,icon:marker_bus2}));return o}this.crearPaqueteMarker=function(t,s,i){switch(t){case"estacion":return console.log("Se creo un marker para una estacion"),e(s,i);case"R1":return console.log("Se creo un recorrido de la ruta R1"),a(s,i);case"R2":return console.log("Se creo un recorrido de la ruta R2"),o(s,i);case"R3":return console.log("Se creo un recorrido de la ruta R3"),n(s,i);default:console.log("Nombre de la Ruta no esta definido en la funcion markerPaqueteFactory()")}}}function h(){}function initMap(){function e(e,a){var o=new google.maps.InfoWindow({content:e});google.maps.event.addListener(a,"click",function(){o.open(l,a)})}function a(e,a){a.setPosition(new google.maps.LatLng(e.latitud,e.longitud))}function o(e,a){var o=document.getElementById("map-zoom-in"),n=document.getElementById("map-zoom-out");e.appendChild(o),e.appendChild(n),google.maps.event.addDomListener(o,"click",function(){a.setZoom(a.getZoom()+1)}),google.maps.event.addDomListener(n,"click",function(){a.setZoom(a.getZoom()-1)})}var n=7.09,t=-73.11,i=13,r=[{stylers:[{lightness:3},{saturation:-60}]},{featureType:"road.local",stylers:[{lightness:-20},{hue:"#2d313f"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"},{lightness:-20},{gamma:2.15},{hue:"#2d313f"}]},{featureType:"water",stylers:[{gamma:.51},{saturation:17},{lightness:-7},{hue:"#0066ff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{lightness:-21},{hue:"#2d313f"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{visibility:"simplified"},{saturation:-82},{lightness:-20},{hue:"#2d313f"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{saturation:-90},{lightness:1},{hue:"#2d313f"}]},{featureType:"transit.station.bus",stylers:[{visibility:"off"}]},{featureType:"transit.station.rail",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],c={center:new google.maps.LatLng(n,t),zoom:i,panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:r},l=new google.maps.Map(document.getElementById("map"),c);this.graficarEstaciones=function(a){for(var o=factory.crearPaqueteMarker("estacion",l,a.length),n=0;n<a.length;n++)o[n].setPosition(new google.maps.LatLng(a[n].Coordenada.Latitud,a[n].Coordenada.Longitud)),e(a[n].Nombre,o[n])};new google.maps.InfoWindow({content:null});$(".bloque4").on("click","input",function(){if(s=$(this),s.is(":checked")){var e=factory.crearPaqueteMarker(s.val(),l,5),o=0;$.getJSON("http://localhost:8000/data/ruta"+s.val()+".json",function(n){setInterval(function(){if($.coordenadas=n,o<n[0].coordenadas.length){for(var t=0;t<n.length;t++)a(n[t].coordenadas[o],e[t]);o++}else o=0;console.log("VALOR Que TIENE "+s.val())},5e3)})}else console.log("lo des-selecciono "+s.val())});{var u=$("#lista").change(function(){switch(clearInterval(timer),u.val()){case"1":timer=setInterval(asi,100);break;case"2":timer=setInterval(asi,1e3);break;case"3":timer=setInterval(asi,5e3);break;default:timer=setInterval(asi,1e3)}}),d=document.createElement("div");new o(d,l)}l.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(d),google.maps.event.addDomListener(window,"resize",function(){var e=l.getCenter();google.maps.event.trigger(l,"resize"),l.setCenter(e)})}var marker_bus0="img/bus-markern.svg",marker_bus1="img/bus-markerv.svg",marker_bus2="img/bus-markeraz.svg",marker_estacion="img/bus-stop.svg",flecha=$(".flecha"),flecha0=flecha.children("a"),izquierda=$(".izquierda"),estado=!0;opcionesRutas=void 0,rutas=void 0,cajam1s=$(".cajam1s"),cajamm=void 0,cajam2s=$(".cajam2s"),cajamu=void 0,multipleM=$(".multipleM"),unica=$(".unica"),Array.prototype.unique=function(e){return function(){return this.filter(e)}}(function(e,a,o){return o.indexOf(e,a+1)<0}),$(".modal-trigger").leanModal(open),$("select").material_select(),flecha.click(function(){estado?(estado=!1,izquierda.css("left","-330px"),flecha0.css("transform","rotateZ(180deg)")):(estado=!0,izquierda.css("left","0px"),flecha0.css("transform","rotateZ(0deg)"))}),cajam1s.on("click","div",function(){t=$(this),console.log(t.index()),t.addClass("active").siblings().removeClass("active"),generarOpcionesM(buscarCoincidencias(opcionesRutas[t.index()]))}),cajam2s.on("click","div",function(){t=$(this),console.log(t.index()),t.addClass("active").siblings().removeClass("active"),generarOpcionesU(buscarCoincidencias(opcionesRutas[t.index()]))}),$(".amodal1").click(function(){seleccionadasC=[],$("input:checkbox[name=rutas]").each(function(){$(this).is(":checked")&&seleccionadasC.push($(this).val())}),0==seleccionadasC.length?Materialize.toast("¡Porfavor, Seleccione almenos una ruta!",5e3):1==seleccionadasC.length?window.open("view/unicaRuta.html?ruta="+seleccionadasC.join("")):window.open("view/multiplesRutas.html?rutas="+seleccionadasC.join(","))}),$(".amodal2").click(function(){seleccionada=void 0,seleccionada=$("input[name=group1]:checked").val(),void 0==seleccionada?Materialize.toast("¡Porfavor, Seleccione almenos una ruta!",5e3):(window.open("view/indextabla.html?rutas="+seleccionada),Materialize.toast("¡La ruta seleccionada es: "+seleccionada+"!",5e3))});var linksp=$(".tabs_links"),links=linksp.find("a"),items=$(".items");links.eq(0).add(items.eq(0)).addClass("active"),linksp.on("click","a",function(){var e=$(this),a=e.index();e.add(items.eq(a)).addClass("active").siblings().removeClass("active")}),z=new h;